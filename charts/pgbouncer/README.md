# pgbouncer

Pgbouncer helm chart
Based on https://github.com/edoburu/docker-pgbouncer

![Version: 0.1.2](https://img.shields.io/badge/Version-0.1.2-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.15.0](https://img.shields.io/badge/AppVersion-1.15.0-informational?style=flat-square)

## Get Repo Info

```console
helm repo add helm-pgbouncer https://hornwind.github.io/helm-pgbouncer
helm repo update
```

_See [helm repo](https://helm.sh/docs/helm/helm_repo/) for command documentation._

## Install Chart

```console
# Helm
$ helm install [RELEASE_NAME] helm-pgbouncer/pgbouncer
```

_See [helm install](https://helm.sh/docs/helm/helm_install/) for command documentation._

## Upgrading Chart

```console
# Helm
$ helm upgrade [RELEASE_NAME] helm-pgbouncer/pgbouncer
```

_See [helm upgrade](https://helm.sh/docs/helm/helm_upgrade/) for command documentation._

## Uninstall Chart

```console
# Helm
$ helm uninstall [RELEASE_NAME]
```

This removes all the Kubernetes components associated with the chart and deletes the release.

_See [helm uninstall](https://helm.sh/docs/helm/helm_uninstall/) for command documentation._

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| fullnameOverride | string | `""` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"edoburu/pgbouncer"` |  |
| image.tag | string | `""` |  |
| imagePullSecrets | list | `[]` |  |
| minAvailable | int | `1` |  |
| nameOverride | string | `""` |  |
| nodeSelector | object | `{}` |  |
| pgbouncer.dbAuthType | string | `"md5"` | postgres auth type `plain` or `md5` |
| pgbouncer.dbHost | string | `""` | database server host. Must be pre-created as service and endpoint before deploy We use headless service with `spec.clusterIP: None` |
| pgbouncer.dbName | string | `""` | database name |
| pgbouncer.dbPassword | string | "" | database password |
| pgbouncer.dbUser | string | `""` | database user |
| pgbouncer.existingSecret | object | `{"dbPassword":{"secretKey":"","secretName":"","use":false}}` | the secret must been pre-created before deploy |
| pgbouncer.existingSecret.dbPassword.secretKey | string | `""` | a secret key whose value will be get as a password |
| pgbouncer.existingSecret.dbPassword.secretName | string | `""` | secret name in release namespace |
| pgbouncer.existingSecret.dbPassword.use | bool | `false` | use existing secret with credentials or not |
| pgbouncer.globalPoolSize | int | `60` | auto calc globalPoolSize/replicaCount, min 10 per pod |
| pgbouncer.minPoolSize | string | `""` | no greater than globalPoolSize/replicaCount |
| pgbouncer.poolMode | string | `"session"` | pgbouncer pool mode |
| pgbouncer.reservePoolSize | string | `""` |  |
| pgbouncer.serverResetQuery | string | `"DISCARD ALL"` |  |
| podAnnotations | object | `{}` |  |
| podSecurityContext | object | `{}` |  |
| priorityClassName | string | `""` |  |
| replicaCount | int | `1` |  |
| resources | object | `{}` |  |
| securityContext.allowPrivilegeEscalation | bool | `false` |  |
| securityContext.capabilities.drop[0] | string | `"ALL"` |  |
| service.port | int | `5432` |  |
| service.type | string | `"ClusterIP"` |  |
| serviceAccount.annotations | object | `{}` |  |
| serviceAccount.create | bool | `false` |  |
| serviceAccount.name | string | `""` |  |
| terminationGracePeriodSeconds | string | `""` |  |
| tolerations | list | `[]` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.7.0](https://github.com/norwoodj/helm-docs/releases/v1.7.0)
